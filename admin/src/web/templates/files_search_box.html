{%block files_search_box%}

<a class="button is-primary is-pulled-left" href="{{url_for( entidad_archivo + '.new',  id=diccionario.id, es_link = False)}}">Agregar Documento</a>
<br>
<br>
<a class="button is-primary is-pulled-left" href="{{url_for( entidad_archivo + '.new',  id=diccionario.id,  es_link =True)}}">Agregar Enlace</a>
<br>
<br>
<section class="navbar-brand">
   
  <form method="GET" action="{{ url_for(entidad_archivo + '.search', id=diccionario.id) }}" class="is-flex is-flex-wrap-wrap is-align-items-center">
    {{ form.hidden_tag() }}
    <input type="hidden" name="activo" value="{{activo}}"/>
    
    <!-- Iteración dinámica de campos del formulario -->
    {% for field in form if field.name != 'csrf_token' and field.type != 'SubmitField' %}
    <div class="field mr-3">
      <label class="label">{{ field.label.text }}</label>
      <div class="control">
        {{ field }}
      </div>
    </div>
    {% endfor %}
    
    <!-- Botón de búsqueda -->
    <div class="field">
      <div class="control">
        {{ form.submit(class="button is-info") }}
      </div>
    </div>
</form>
 </section>
 <br>
 <br>
 {% include 'file_list.html'%}
 <br>

<!-- Pagination controls -->
<nav class="pagination is-rounded" role="navigation" aria-label="pagination">
<div class="pagination">
 
  {% if current_page > 1 %}
      <a href="{{ url_for(entidad_archivo + '.search', page=current_page - 1, per_page=per_page, 
                              busqueda=request.args.get('busqueda'),
                              tipo_filtro=request.args.get('tipo_filtro'),
                              orden_filtro=request.args.get('orden_filtro'),
                              orden=request.args.get('orden'),
                               activo='documents'
                               , id=diccionario.id) }}" 
                               class="pagination-previous" >Previous</a>
  {% endif %}
  <br>
  {% for page_num in range(1, pages + 1) %}
      {% if page_num == current_page %}
          <strong>{{ page_num }}</strong>
      {% else %}
          <a href="{{ url_for(entidad_archivo + '.search', page=page_num, per_page=per_page, 
                              busqueda = request.args.get('busqueda'),
                              tipo_filtro = request.args.get('tipo_filtro'),
                              orden_filtro = request.args.get('orden_filtro'),
                              orden = request.args.get('orden'),
                               activo='documents' , id=diccionario.id)}}" >{{ page_num }}</a>
      {% endif %}
  {% endfor %}
  <br>
  {% if current_page < pages %}
      <a href="{{ url_for(entidad_archivo + '.search', page=current_page + 1, per_page=per_page, 
                             busqueda=request.args.get('busqueda'),
                              tipo_filtro=request.args.get('tipo_filtro'),
                              orden_filtro=request.args.get('orden_filtro'),
                              orden=request.args.get('orden'),
                              activo='documents' , id=diccionario.id)}}" class="pagination-next">Next</a>
  {% endif %}
</div>
</nav>
<p>Total: {{ total }}</p>


{%endblock %}
 

 

 


